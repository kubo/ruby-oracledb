<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OracleDB::Conn
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OracleDB::Conn";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OracleDB.html" title="OracleDB (module)">OracleDB</a></span></span>
     &raquo; 
    <span class="title">Conn</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OracleDB::Conn
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OracleDB::Conn</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/oracledb.rb<span class="defines">,<br />
  ext/oracledb/rboradb_conn.c</span>
</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#action=-instance_method" title="#action= (instance method)">#<strong>action=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#begin_distrib_trans-instance_method" title="#begin_distrib_trans (instance method)">#<strong>begin_distrib_trans</strong>(format_id, transaction_id, branch_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#break_execution-instance_method" title="#break_execution (instance method)">#<strong>break_execution</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_timeout-instance_method" title="#call_timeout (instance method)">#<strong>call_timeout</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_timeout=-instance_method" title="#call_timeout= (instance method)">#<strong>call_timeout=</strong>(secs)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_password-instance_method" title="#change_password (instance method)">#<strong>change_password</strong>(username, old_password, new_password)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#client_identifier=-instance_method" title="#client_identifier= (instance method)">#<strong>client_identifier=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#client_info=-instance_method" title="#client_info= (instance method)">#<strong>client_info=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit-instance_method" title="#commit (instance method)">#<strong>commit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_schema-instance_method" title="#current_schema (instance method)">#<strong>current_schema</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_schema=-instance_method" title="#current_schema= (instance method)">#<strong>current_schema=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_op=-instance_method" title="#db_op= (instance method)">#<strong>db_op=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edition-instance_method" title="#edition (instance method)">#<strong>edition</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#external_name-instance_method" title="#external_name (instance method)">#<strong>external_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#external_name=-instance_method" title="#external_name= (instance method)">#<strong>external_name=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_name-instance_method" title="#internal_name (instance method)">#<strong>internal_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_name=-instance_method" title="#internal_name= (instance method)">#<strong>internal_name=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ltxid-instance_method" title="#ltxid (instance method)">#<strong>ltxid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#module=-instance_method" title="#module= (instance method)">#<strong>module=</strong>(action)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_deq_options-instance_method" title="#new_deq_options (instance method)">#<strong>new_deq_options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_enq_options-instance_method" title="#new_enq_options (instance method)">#<strong>new_enq_options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_msg_props-instance_method" title="#new_msg_props (instance method)">#<strong>new_msg_props</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_queue-instance_method" title="#new_queue (instance method)">#<strong>new_queue</strong>(name, payload = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_tmp_lob-instance_method" title="#new_tmp_lob (instance method)">#<strong>new_tmp_lob</strong>(type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#object_type-instance_method" title="#object_type (instance method)">#<strong>object_type</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#oci_attr-instance_method" title="#oci_attr (instance method)">#<strong>oci_attr</strong>(handle_type, attr, attr_data_type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ping-instance_method" title="#ping (instance method)">#<strong>ping</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepare_distrib_trans-instance_method" title="#prepare_distrib_trans (instance method)">#<strong>prepare_distrib_trans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepare_stmt-instance_method" title="#prepare_stmt (instance method)">#<strong>prepare_stmt</strong>(sql, fetch_array_size: 100, scrollable: false, tag: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rollback-instance_method" title="#rollback (instance method)">#<strong>rollback</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#server_version-instance_method" title="#server_version (instance method)">#<strong>server_version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_oci_attr-instance_method" title="#set_oci_attr (instance method)">#<strong>set_oci_attr</strong>(handle_type, attr, attr_data_type, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shutdown_database-instance_method" title="#shutdown_database (instance method)">#<strong>shutdown_database</strong>(mode)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#soda_db-instance_method" title="#soda_db (instance method)">#<strong>soda_db</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#startup_database-instance_method" title="#startup_database (instance method)">#<strong>startup_database</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stmt_cache_size-instance_method" title="#stmt_cache_size (instance method)">#<strong>stmt_cache_size</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stmt_cache_size=-instance_method" title="#stmt_cache_size= (instance method)">#<strong>stmt_cache_size=</strong>(size)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subscribe-instance_method" title="#subscribe (instance method)">#<strong>subscribe</strong>(params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(*args)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 58</span>

static VALUE conn_initialize(int argc, VALUE *argv, VALUE self)
{
    Conn_t *conn = To_Conn(self);
    rbOraDBContext *ctxt;
    dpiCommonCreateParams common_params;
    dpiConnCreateParams conn_params;
    VALUE ctxt_obj, username, password, connstr, params;
    dpiConn *dpi_conn;
    VALUE gc_guard = Qnil;

    rb_scan_args(argc, argv, &quot;41&quot;, &amp;ctxt_obj, &amp;username, &amp;password, &amp;connstr, &amp;params);
    ctxt = rboradb_get_rbOraDBContext(ctxt_obj);
    OptExportString(username);
    OptExportString(password);
    OptExportString(connstr);
    dpiContext_initCommonCreateParams(ctxt-&gt;handle, &amp;common_params);
    dpiContext_initConnCreateParams(ctxt-&gt;handle, &amp;conn_params);
    if (!NIL_P(params)) {
        gc_guard = rboradb_set_common_and_dpiConnCreateParams(&amp;common_params, &amp;conn_params, params);
    }

    if (rbOraDBConn_create(ctxt-&gt;handle, OPT_RSTRING_PTR(username), OPT_RSTRING_LEN(username),
                         OPT_RSTRING_PTR(password), OPT_RSTRING_LEN(password),
                         OPT_RSTRING_PTR(connstr), OPT_RSTRING_LEN(connstr),
                         &amp;common_params, &amp;conn_params, &amp;dpi_conn) != DPI_SUCCESS) {
        rboradb_raise_error(ctxt);
    }
    RB_GC_GUARD(gc_guard);
    init_conn(conn, ctxt, dpi_conn, &amp;conn_params);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="action=-instance_method">
  
    #<strong>action=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


355
356
357
358</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 355</span>

static VALUE conn_set_action(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setAction);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="begin_distrib_trans-instance_method">
  
    #<strong>begin_distrib_trans</strong>(format_id, transaction_id, branch_id)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 110</span>

static VALUE conn_begin_distrib_trans(VALUE self, VALUE format_id, VALUE transaction_id, VALUE branch_id)
{
    Conn_t *conn = To_Conn(self);

    SafeStringValue(transaction_id);
    SafeStringValue(branch_id);
    if (rbOraDBConn_beginDistribTrans(conn-&gt;dconn-&gt;handle, NUM2LONG(format_id),
                                    RSTRING_PTR(transaction_id), RSTRING_LEN(transaction_id),
                                    RSTRING_PTR(branch_id), RSTRING_LEN(branch_id)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="break_execution-instance_method">
  
    #<strong>break_execution</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129
130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 124</span>

static VALUE conn_break_execution(VALUE self)
{
    Conn_t *conn = To_Conn(self);

    if (rbOraDBConn_breakExecution(conn-&gt;dconn-&gt;handle) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_timeout-instance_method">
  
    #<strong>call_timeout</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 175</span>

static VALUE conn_call_timeout(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    uint32_t msecs;

    if (dpiConn_getCallTimeout(conn-&gt;dconn-&gt;handle, &amp;msecs) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return DBL2NUM((double)msecs / 1000.0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call_timeout=-instance_method">
  
    #<strong>call_timeout=</strong>(secs)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 360</span>

static VALUE conn_set_call_timeout(VALUE self, VALUE secs)
{
    Conn_t *conn = To_Conn(self);
    double fsecs = NUM2DBL(secs);
    uint32_t msecs = 0;

    if (fsecs &gt; 0) {
        msecs = fsecs * 1000;
        if (msecs == 0) {
            msecs = 1;
        }
    }
    if (dpiConn_setCallTimeout(conn-&gt;dconn-&gt;handle, msecs) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_password-instance_method">
  
    #<strong>change_password</strong>(username, old_password, new_password)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 134</span>

static VALUE conn_change_password(VALUE self, VALUE username, VALUE old_password, VALUE new_password)
{
    Conn_t *conn = To_Conn(self);

    ExportString(username);
    ExportString(old_password);
    ExportString(new_password);
    if (rbOraDBConn_changePassword(conn-&gt;dconn-&gt;handle,
                                 RSTRING_PTR(username), RSTRING_LEN(username),
                                 RSTRING_PTR(old_password), RSTRING_LEN(old_password),
                                 RSTRING_PTR(new_password), RSTRING_LEN(new_password)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="client_identifier=-instance_method">
  
    #<strong>client_identifier=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


378
379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 378</span>

static VALUE conn_set_client_identifier(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setClientIdentifier);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="client_info=-instance_method">
  
    #<strong>client_info=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 383</span>

static VALUE conn_set_client_info(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setClientInfo);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="close-instance_method">
  
    #<strong>close</strong>(*args)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 150</span>

static VALUE conn_close(int argc, VALUE *argv, VALUE self)
{
    Conn_t *conn = To_Conn(self);
    VALUE mode;
    VALUE tag;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;mode, &amp;tag);
    OptExportString(tag);
    if (rbOraDBConn_close(conn-&gt;dconn-&gt;handle, rboradb_to_dpiConnCloseMode(mode),
                        OPT_RSTRING_PTR(tag), OPT_RSTRING_LEN(tag)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="commit-instance_method">
  
    #<strong>commit</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 165</span>

static VALUE conn_commit(VALUE self)
{
    Conn_t *conn = To_Conn(self);

    if (rbOraDBConn_commit(conn-&gt;dconn-&gt;handle) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_schema-instance_method">
  
    #<strong>current_schema</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 186</span>

static VALUE conn_current_schema(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    const char *ptr;
    uint32_t len;

    if (dpiConn_getCurrentSchema(conn-&gt;dconn-&gt;handle, &amp;ptr, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rb_external_str_new_with_enc(ptr, len, rb_utf8_encoding());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_schema=-instance_method">
  
    #<strong>current_schema=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 388</span>

static VALUE conn_set_current_schema(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setCurrentSchema);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_op=-instance_method">
  
    #<strong>db_op=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


393
394
395
396</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 393</span>

static VALUE conn_set_db_op(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setDbOp);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edition-instance_method">
  
    #<strong>edition</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 198</span>

static VALUE conn_edition(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    const char *ptr;
    uint32_t len;

    if (dpiConn_getEdition(conn-&gt;dconn-&gt;handle, &amp;ptr, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rb_external_str_new_with_enc(ptr, len, rb_utf8_encoding());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="external_name-instance_method">
  
    #<strong>external_name</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213
214
215
216
217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 210</span>

static VALUE conn_external_name(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    const char *ptr;
    uint32_t len;

    if (dpiConn_getExternalName(conn-&gt;dconn-&gt;handle, &amp;ptr, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rb_external_str_new_with_enc(ptr, len, rb_utf8_encoding());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="external_name=-instance_method">
  
    #<strong>external_name=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


398
399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 398</span>

static VALUE conn_set_external_name(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setExternalName);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_name-instance_method">
  
    #<strong>internal_name</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 222</span>

static VALUE conn_internal_name(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    const char *ptr;
    uint32_t len;

    if (dpiConn_getInternalName(conn-&gt;dconn-&gt;handle, &amp;ptr, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rb_external_str_new_with_enc(ptr, len, rb_utf8_encoding());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_name=-instance_method">
  
    #<strong>internal_name=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 403</span>

static VALUE conn_set_internal_name(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setInternalName);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ltxid-instance_method">
  
    #<strong>ltxid</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 234</span>

static VALUE conn_ltxid(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    const char *ptr;
    uint32_t len;

    if (dpiConn_getLTXID(conn-&gt;dconn-&gt;handle, &amp;ptr, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rb_external_str_new(ptr, len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="module=-instance_method">
  
    #<strong>module=</strong>(action)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410
411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 408</span>

static VALUE conn_set_module(VALUE self, VALUE action)
{
    return set_char(self, action, dpiConn_setModule);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_deq_options-instance_method">
  
    #<strong>new_deq_options</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_deq_options'>new_deq_options</span>
  <span class='const'><span class='object_link'><a href="DeqOptions.html" title="OracleDB::DeqOptions (class)">DeqOptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="DeqOptions.html#initialize-instance_method" title="OracleDB::DeqOptions#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_enq_options-instance_method">
  
    #<strong>new_enq_options</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_enq_options'>new_enq_options</span>
  <span class='const'><span class='object_link'><a href="EnqOptions.html" title="OracleDB::EnqOptions (class)">EnqOptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="EnqOptions.html#initialize-instance_method" title="OracleDB::EnqOptions#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_msg_props-instance_method">
  
    #<strong>new_msg_props</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_msg_props'>new_msg_props</span>
  <span class='const'><span class='object_link'><a href="MsgProps.html" title="OracleDB::MsgProps (class)">MsgProps</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MsgProps.html#initialize-instance_method" title="OracleDB::MsgProps#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_queue-instance_method">
  
    #<strong>new_queue</strong>(name, payload = nil)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_queue'>new_queue</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_payload'>payload</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Queue.html" title="OracleDB::Queue (class)">Queue</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Queue.html#initialize-instance_method" title="OracleDB::Queue#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_payload'>payload</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_tmp_lob-instance_method">
  
    #<strong>new_tmp_lob</strong>(type)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 32</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_tmp_lob'>new_tmp_lob</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Lob.html" title="OracleDB::Lob (class)">Lob</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Lob.html#initialize-instance_method" title="OracleDB::Lob#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="object_type-instance_method">
  
    #<strong>object_type</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_object_type'>object_type</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="ObjectType.html" title="OracleDB::ObjectType (class)">ObjectType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ObjectType.html#initialize-instance_method" title="OracleDB::ObjectType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="oci_attr-instance_method">
  
    #<strong>oci_attr</strong>(handle_type, attr, attr_data_type)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 246</span>

static VALUE conn_oci_attr(VALUE self, VALUE handle_type, VALUE attr, VALUE attr_data_type)
{
    Conn_t *conn = To_Conn(self);
    uint32_t htype = rboradb_to_OciHandleType(handle_type);
    OciAttrDataType type = rboradb_to_OciAttrDataType(attr_data_type);
    dpiDataBuffer val;
    uint32_t len;

    if (dpiConn_getOciAttr(conn-&gt;dconn-&gt;handle, htype, NUM2UINT(attr), &amp;val, &amp;len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    switch (type) {
    case RBORADB_OCI_ATTR_DATA_TYPE_BOOLEAN:
        return val.asBoolean ? Qtrue : Qfalse;
    case RBORADB_OCI_ATTR_DATA_TYPE_TEXT:
        return rb_enc_str_new(val.asString, len, rb_utf8_encoding());
    case RBORADB_OCI_ATTR_DATA_TYPE_UB1:
        return INT2FIX(val.asUint8);
    case RBORADB_OCI_ATTR_DATA_TYPE_UB2:
        return INT2FIX(val.asUint16);
    case RBORADB_OCI_ATTR_DATA_TYPE_UB4:
        return UINT2NUM(val.asUint32);
    case RBORADB_OCI_ATTR_DATA_TYPE_UB8:
        return ULL2NUM(val.asUint64);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ping-instance_method">
  
    #<strong>ping</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302
303
304</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 296</span>

static VALUE conn_ping(VALUE self)
{
    Conn_t *conn = To_Conn(self);

    if (rbOraDBConn_ping(conn-&gt;dconn-&gt;handle) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepare_distrib_trans-instance_method">
  
    #<strong>prepare_distrib_trans</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 306</span>

static VALUE conn_prepare_distrib_trans(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    int commit_needed;

    if (rbOraDBConn_prepareDistribTrans(conn-&gt;dconn-&gt;handle, &amp;commit_needed) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return commit_needed ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepare_stmt-instance_method">
  
    #<strong>prepare_stmt</strong>(sql, fetch_array_size: 100, scrollable: false, tag: nil)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_stmt'>prepare_stmt</span><span class='lparen'>(</span><span class='id identifier rubyid_sql'>sql</span><span class='comma'>,</span> <span class='label'>fetch_array_size:</span> <span class='int'>100</span><span class='comma'>,</span> <span class='label'>scrollable:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>tag:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid___prepare_stmt'>__prepare_stmt</span><span class='lparen'>(</span><span class='id identifier rubyid_sql'>sql</span><span class='comma'>,</span> <span class='id identifier rubyid_fetch_array_size'>fetch_array_size</span><span class='comma'>,</span> <span class='id identifier rubyid_scrollable'>scrollable</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rollback-instance_method">
  
    #<strong>rollback</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


334
335
336
337
338
339
340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 334</span>

static VALUE conn_rollback(VALUE self)
{
    Conn_t *conn = To_Conn(self);

    if (rbOraDBConn_rollback(conn-&gt;dconn-&gt;handle) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="server_version-instance_method">
  
    #<strong>server_version</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280
281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 274</span>

static VALUE conn_server_version(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    dpiVersionInfo ver;

    if (dpiConn_getServerVersion(conn-&gt;dconn-&gt;handle, NULL, NULL, &amp;ver) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rboradb_from_dpiVersionInfo(&amp;ver);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_oci_attr-instance_method">
  
    #<strong>set_oci_attr</strong>(handle_type, attr, attr_data_type, value)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 424</span>

static VALUE conn_set_oci_attr(VALUE self, VALUE handle_type, VALUE attr, VALUE attr_data_type, VALUE value)
{
    Conn_t *conn = To_Conn(self);
    uint32_t htype = rboradb_to_OciHandleType(handle_type);
    OciAttrDataType type = rboradb_to_OciAttrDataType(attr_data_type);
    union {
        int boolval;
        char *textval;
        uint8_t ub1val;
        uint16_t ub2val;
        uint32_t ub4val;
        uint64_t ub8val;
    } val;
    uint32_t len = 0;

    switch (type) {
    case RBORADB_OCI_ATTR_DATA_TYPE_BOOLEAN:
        val.boolval = RTEST(value) ? 1 : 0;
        break;
    case RBORADB_OCI_ATTR_DATA_TYPE_TEXT:
        ExportString(value);
        val.textval = RSTRING_PTR(value);
        len = RSTRING_LEN(value);
        break;
    case RBORADB_OCI_ATTR_DATA_TYPE_UB1:
        val.ub1val = NUM2UINT(value);
        break;
    case RBORADB_OCI_ATTR_DATA_TYPE_UB2:
        val.ub2val = NUM2UINT(value);
        break;
    case RBORADB_OCI_ATTR_DATA_TYPE_UB4:
        val.ub4val = NUM2UINT(value);
        break;
    case RBORADB_OCI_ATTR_DATA_TYPE_UB8:
        val.ub8val = NUM2ULL(value);
        break;
    }
    if (dpiConn_setOciAttr(conn-&gt;dconn-&gt;handle, htype, NUM2UINT(attr), &amp;val, len) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shutdown_database-instance_method">
  
    #<strong>shutdown_database</strong>(mode)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


477
478
479
480
481
482
483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 477</span>

static VALUE conn_shutdown_database(VALUE self, VALUE mode)
{
    Conn_t *conn = To_Conn(self);

    if (rbOraDBConn_shutdownDatabase(conn-&gt;dconn-&gt;handle, rboradb_to_dpiShutdownMode(mode)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="soda_db-instance_method">
  
    #<strong>soda_db</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415
416
417
418
419
420
421
422</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 413</span>

static VALUE conn_soda_db(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    dpiSodaDb *db;

    if (dpiConn_getSodaDb(conn-&gt;dconn-&gt;handle, &amp;db) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return rboradb_soda_db_new(db, conn-&gt;dconn);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="startup_database-instance_method">
  
    #<strong>startup_database</strong>(*args)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489
490
491
492
493
494
495
496
497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 487</span>

static VALUE conn_startup_database(int argc, VALUE *argv, VALUE self)
{
    Conn_t *conn = To_Conn(self);
    VALUE mode, pfile;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;mode, &amp;pfile);
    OptExportString(pfile);
    if (rbOraDBConn_startupDatabaseWithPfile(conn-&gt;dconn-&gt;handle, OPT_RSTRING_PTR(pfile), OPT_RSTRING_LEN(pfile), rboradb_to_dpiShutdownMode(mode)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    RB_GC_GUARD(pfile);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stmt_cache_size-instance_method">
  
    #<strong>stmt_cache_size</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 285</span>

static VALUE conn_stmt_cache_size(VALUE self)
{
    Conn_t *conn = To_Conn(self);
    uint32_t size;

    if (dpiConn_getStmtCacheSize(conn-&gt;dconn-&gt;handle, &amp;size) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return UINT2NUM(size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stmt_cache_size=-instance_method">
  
    #<strong>stmt_cache_size=</strong>(size)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


467
468
469
470
471
472
473
474
475</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/oracledb/rboradb_conn.c', line 467</span>

static VALUE conn_set_stmt_cache_size(VALUE self, VALUE size)
{
    Conn_t *conn = To_Conn(self);

    if (dpiConn_setStmtCacheSize(conn-&gt;dconn-&gt;handle, NUM2UINT(size)) != DPI_SUCCESS) {
        RBORADB_RAISE_ERROR(conn);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subscribe-instance_method">
  
    #<strong>subscribe</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="OracleDB::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/oracledb.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subscribe'>subscribe</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Subscr.html" title="OracleDB::Subscr (class)">Subscr</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Sep  4 06:58:42 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.2).
</div>

    </div>
  </body>
</html>